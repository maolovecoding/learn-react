# React fiber



## fiber执行阶段

- 每次渲染有两个阶段，Reconciliation（协调render阶段）和commit（提交阶段）
  - 协调节点：可以认识是Diff节点，这个阶段可以被中断，这个阶段会找出所有阶段变更，例如节点的新增，删除，属性变更等等，这些变更react称之为副作用（Effect）
  - 提交节点：将上一个阶段计算出来的需要处理的副作用（effects）一次性执行了，这个阶段必须同步执行，不能打断

### render阶段

- 从顶点开始遍历
- 如果有第一个二次，先遍历第一个儿子
- 如果没有第一个儿子，标志着此节点遍历完成
- 如果有滴滴遍历弟弟
- 如果没有下一个弟弟，返回父节点标识完成父节点的遍历，如果有叔叔遍历叔叔
- 没有父节点 遍历结束

流程上：

- 先儿子，后弟弟，再叔叔，“辈分”越小越优先
- 什么时候一个节点遍历完成？
  - 没有子节点，或者所有子节点都遍历完成了
- 没“爹”了就表示全部遍历完成了



















